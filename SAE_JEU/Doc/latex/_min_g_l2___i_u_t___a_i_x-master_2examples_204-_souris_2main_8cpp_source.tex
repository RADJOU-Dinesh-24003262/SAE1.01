\hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source}{}\doxysection{main.\+cpp}
\label{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source}\index{/home/Theo/Téléchargements/sae/SAE\_JEU/MinGL2\_IUT\_AIX-\/master/examples/04-\/Souris/main.cpp@{/home/Theo/Téléchargements/sae/SAE\_JEU/MinGL2\_IUT\_AIX-\/master/examples/04-\/Souris/main.cpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00001}00001 \textcolor{preprocessor}{\#define FPS\_LIMIT 60}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00002}00002 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00003}00003 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00004}00004 \textcolor{preprocessor}{\#include <thread>}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00005}00005 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00006}00006 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{mingl_8h}{mingl/mingl.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00007}00007 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00008}00008 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{rectangle_8h}{mingl/shape/rectangle.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00009}00009 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00010}00010 \textcolor{keyword}{using namespace }std;}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00012}00012 \mbox{\hyperlink{classns_graphics_1_1_vec2_d}{nsGraphics::Vec2D}} rectPos;}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00013}00013 \mbox{\hyperlink{classns_graphics_1_1_r_g_b_acolor}{nsGraphics::RGBAcolor}} rectColor = nsGraphics::KCyan;}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00014}00014 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00015}00015 \textcolor{keywordtype}{void} events(\mbox{\hyperlink{class_min_g_l}{MinGL}} \&window)}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00016}00016 \{}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00017}00017     \textcolor{comment}{// On vérifie chaque évènement de la queue d'évènements}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00018}00018     \textcolor{keywordflow}{while} (window.\mbox{\hyperlink{class_min_g_l_ab558253439905930836ab4910a7ae253}{getEventManager}}().\mbox{\hyperlink{classns_event_1_1_event_manager_a5a3119d969a296b8e94f223171fdf2e6}{hasEvent}}())}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00019}00019     \{}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00020}00020         \textcolor{keyword}{const} \mbox{\hyperlink{structns_event_1_1_event__t}{nsEvent::Event\_t}} actualEvent = window.\mbox{\hyperlink{class_min_g_l_ab558253439905930836ab4910a7ae253}{getEventManager}}().\mbox{\hyperlink{classns_event_1_1_event_manager_adb00a0a006f4caa976471e74bf99cdc9}{pullEvent}}();}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00021}00021 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00022}00022         \textcolor{comment}{// On regarde le type d'évènement}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00023}00023         \textcolor{keywordflow}{switch} (actualEvent.\mbox{\hyperlink{structns_event_1_1_event__t_a4658fcb9ee305cae39da30840d64192c}{eventType}})}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00024}00024         \{}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00025}00025             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacens_event_a6e501b1114a041d127a56f51c66ada72addbed44248cc7bf27e68c8e83a4af4c6}{nsEvent::EventType\_t::MouseMove}}:}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00026}00026                 \textcolor{comment}{// Il s'agit d'un mouvement de souris}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00027}00027                 rectPos.\mbox{\hyperlink{classns_graphics_1_1_vec2_d_ae9d371fdd3817c6e9a3a1ae6ed3fd17d}{setX}}(actualEvent.\mbox{\hyperlink{structns_event_1_1_event__t_a148669454c11351db2ac902aad495ac8}{eventData}}.\mbox{\hyperlink{unionns_event_1_1_event_data__t_aac7ba31725a75d84fd32ea6a4d865a91}{moveData}}.\mbox{\hyperlink{structns_event_1_1_mouse_move_data__t_a5093f057977a7d290ead30266c6599fb}{x}});}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00028}00028                 rectPos.\mbox{\hyperlink{classns_graphics_1_1_vec2_d_ac0e752e399ab2f727fe2644540b1208f}{setY}}(actualEvent.\mbox{\hyperlink{structns_event_1_1_event__t_a148669454c11351db2ac902aad495ac8}{eventData}}.\mbox{\hyperlink{unionns_event_1_1_event_data__t_aac7ba31725a75d84fd32ea6a4d865a91}{moveData}}.\mbox{\hyperlink{structns_event_1_1_mouse_move_data__t_a9e72b2e9f3c2f68cc33391d076f2c446}{y}});}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00029}00029 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00030}00030                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00031}00031 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00032}00032             \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacens_event_a6e501b1114a041d127a56f51c66ada72ac40555e94dcfb35e033e2314259db5f7}{nsEvent::EventType\_t::MouseClick}}:}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00033}00033                 \textcolor{comment}{// Il s'agit d'un click de souris}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00034}00034                 rectColor = (actualEvent.\mbox{\hyperlink{structns_event_1_1_event__t_a148669454c11351db2ac902aad495ac8}{eventData}}.\mbox{\hyperlink{unionns_event_1_1_event_data__t_ac1478ee3007ce42a653e53c1200625bc}{clickData}}.\mbox{\hyperlink{structns_event_1_1_mouse_click_data__t_a81252b916361dc4deab0f42510fdc928}{state}} ? nsGraphics::KCyan : nsGraphics::KPurple);}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00035}00035 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00036}00036                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00038}00038             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00039}00039                 \textcolor{comment}{// L'évènement ne nous intéresse pas}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00040}00040                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00041}00041         \}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00042}00042     \}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00043}00043 \}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00044}00044 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00045}00045 \textcolor{keywordtype}{void} dessiner(\mbox{\hyperlink{class_min_g_l}{MinGL}} \&window)}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00046}00046 \{}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00047}00047     \textcolor{comment}{// On dessine le rectangle}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00048}00048     window << \mbox{\hyperlink{classns_shape_1_1_rectangle}{nsShape::Rectangle}}(rectPos, rectPos + \mbox{\hyperlink{classns_graphics_1_1_vec2_d}{nsGraphics::Vec2D}}(20, 20), rectColor);}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00049}00049 \}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00050}00050 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00051}00051 \textcolor{keywordtype}{int} main()}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00052}00052 \{}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00053}00053     \textcolor{comment}{// Initialise le système}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00054}00054     \mbox{\hyperlink{class_min_g_l}{MinGL}} window(\textcolor{stringliteral}{"{}04 -\/ Souris"{}}, \mbox{\hyperlink{classns_graphics_1_1_vec2_d}{nsGraphics::Vec2D}}(640, 640), \mbox{\hyperlink{classns_graphics_1_1_vec2_d}{nsGraphics::Vec2D}}(128, 128), nsGraphics::KBlack);}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00055}00055     window.\mbox{\hyperlink{class_min_g_l_a17c7718b9e966c8147cd56483dcf4e8d}{initGlut}}();}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00056}00056     window.\mbox{\hyperlink{class_min_g_l_a5962a0a0ced7879bc0cc65e267e8d7fc}{initGraphic}}();}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00057}00057 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00058}00058     \textcolor{comment}{// Variable qui tient le temps de frame}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00059}00059     chrono::microseconds frameTime = chrono::microseconds::zero();}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00060}00060 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00061}00061     \textcolor{comment}{// On fait tourner la boucle tant que la fenêtre est ouverte}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00062}00062     \textcolor{keywordflow}{while} (window.\mbox{\hyperlink{class_min_g_l_a05a0da9d0729e9c7dbd1121b0956866d}{isOpen}}())}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00063}00063     \{}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00064}00064         \textcolor{comment}{// Récupère l'heure actuelle}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00065}00065         chrono::time\_point<chrono::steady\_clock> start = chrono::steady\_clock::now();}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00067}00067         \textcolor{comment}{// On efface la fenêtre}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00068}00068         window.\mbox{\hyperlink{class_min_g_l_a86c940758616957683ffb2e239bba774}{clearScreen}}();}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00069}00069 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00070}00070         \textcolor{comment}{// On fait tourner les procédures}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00071}00071         events(window);}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00072}00072         dessiner(window);}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00073}00073 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00074}00074         \textcolor{comment}{// On finit la frame en cours}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00075}00075         window.\mbox{\hyperlink{class_min_g_l_a489922f0bdde2e38698adddaf57f6eda}{finishFrame}}();}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00076}00076 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00077}00077         \textcolor{comment}{// /!\(\backslash\) On NE vide PAS la queue d'évènements car on s'en sert /!\(\backslash\)}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00078}00078 \textcolor{comment}{        // window.getEventManager().clearEvents();}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00079}00079 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00080}00080         \textcolor{comment}{// On attend un peu pour limiter le framerate et soulager le CPU}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00081}00081         this\_thread::sleep\_for(chrono::milliseconds(1000 / FPS\_LIMIT) -\/ chrono::duration\_cast<chrono::microseconds>(chrono::steady\_clock::now() -\/ start));}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00082}00082 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00083}00083         \textcolor{comment}{// On récupère le temps de frame}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00084}00084         frameTime = chrono::duration\_cast<chrono::microseconds>(chrono::steady\_clock::now() -\/ start);}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00085}00085     \}}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00086}00086 }
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00087}00087     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{\Hypertarget{_min_g_l2___i_u_t___a_i_x-master_2examples_204-_souris_2main_8cpp_source_l00088}00088 \}}

\end{DoxyCode}
